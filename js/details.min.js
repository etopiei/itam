$(document).ready(function(){fillDetails()});function fillDetails(){var b=getParameterByName("?");if(b===""){unFound()}var a=b.substr(0,1);if(a==="T"){getDetailsFromQuery(b)}else{if(a==="M"){getDetailsFromMovie(b)}else{unFound()}}}function unFound(){document.location="/unfound.html";location.replace("/unfound.html")}function getParameterByName(b,a){if(!a){a=window.location.href}b=b.replace(/[\[\]]/g,"\\$&");var d=new RegExp("[?&]"+b+"(=([^&#]*)|&|#|$)"),c=d.exec(a);if(!c){return null}if(!c[2]){return""}return decodeURIComponent(c[2].replace(/\+/g," "))}function getDetailsFromQuery(b){var a=0;$.getJSON("js/tv.json",function(l){for(var c in l){if(!l.hasOwnProperty(c)){console.log("prop fail");continue}var f=b.indexOf(".");var i=b.slice(0,f);if(l[c][0]["ID"]===i){a=1;var e=l[c][0]["Genre"];var m=l[c][0]["Creator"];var d=l[c][0]["Time"];var j=l[c][0]["PosterURL"];var g=b.slice(f+1);var h=l[c][g]["ShortName"];var k=l[c][g]["EpisodeID"];var n=l[c][g]["Plot"];$(".epTitle").html(h);$(".Synopsis").html(n);$(".Genre").html(e);$(".Creator").html(m);$(".Time").html(d+" mins");$(".poster").attr("src",j);document.getElementById("play").href="play.html?="+b}}console.log(a);if(a===0){unFound()}})}function getDetailsFromMovie(b){var a=0;$.getJSON("js/movies.json",function(i){for(var c in i){if(!i.hasOwnProperty(c)){console.log("prop fail");continue}if(i[c][0]["ID"]===b){a=1;var e=i[c][0]["Genre"];var j=i[c][0]["Director"];var d=i[c][0]["Time"];var g=i[c][0]["PosterURL"];var f=i[c][0]["Title"];var h=i[c][0]["ID"];var k=i[c][0]["Plot"];$(".epTitle").html(f);$(".Synopsis").html(k);$(".Genre").html(e);$(".Creator").html(j);$(".Time").html(d+" mins");$(".poster").attr("src",g);document.getElementById("play").href="play.html?="+b}}if(a===0){unFound()}})};